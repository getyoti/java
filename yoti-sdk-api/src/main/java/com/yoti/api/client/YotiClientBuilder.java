package com.yoti.api.client;

import java.io.IOException;

/**
 * Build a YotiClient for an application and its corresponding key pair. You
 * only need to provide your application id (provided by Yoti) and your
 * public-private key pair (generated by you or your browser).
 *
 */
public abstract class YotiClientBuilder {

    /**
     * Proceed building the client for a specific application.
     *
     * @param applicationId the application identifier (this is now the client SDK ID from Yoti Hub)
     * @return the updated builder 
     */
    @Deprecated
    public abstract YotiClientBuilder forApplication(String applicationId);

    /**
     * Proceed building the client with a specific SDK ID.
     *
     * @param sdkId the client SDK ID from Yoti Hub
     * @return the builder
     */
    public abstract YotiClientBuilder withClientSdkId(String sdkId);

    /**
     * Proceed building the client with a key pair from the an external source.
     *
     * @param keyPairSource
     *            the URL of the .pem file containing your application key pair
     * @throws IOException
     *             Signals that an I/O exception has occurred getting the key
     *             pair
     * @return the updated builder              
     */
    public abstract YotiClientBuilder withKeyPair(KeyPairSource keyPairSource) throws IOException;

    /**
     * Build the Yoti client.
     *
     * @return the Yoti client
     * @throws InitialisationException if the client could not be built.
     */
    public abstract YotiClient build() throws InitialisationException;

    /**
     * Create a new builder.
     *
     * @return builder instance
     *
     */
    public static YotiClientBuilder newInstance() {
        return new ServiceLocatorYotiClientBuilder();
    }

}